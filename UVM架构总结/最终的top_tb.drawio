<mxfile host="app.diagrams.net" modified="2020-12-22T15:41:15.657Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36" etag="fA05a1-rf1ahInX1A15a" version="14.1.1" type="github">
  <diagram id="M6eRdIAuC2BlORuKV55p" name="第 1 页">
    <mxGraphModel dx="1038" dy="1693" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="m51jKzYYjfxLeKh93bPM-2" value="&lt;div&gt;`timescale 1ns/1ps&lt;/div&gt;&lt;div&gt;`include &quot;uvm_macros.svh&quot;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff3333&quot;&gt;//包含所有的.sv文件&lt;/font&gt;&lt;/div&gt;&lt;div&gt;import uvm_pkg::*;&lt;/div&gt;&lt;div&gt;`include &quot;my_if.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_transaction.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_sequencer.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_driver.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_monitor.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_agent.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_model.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_scoreboard.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_env.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;base_test.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_case0.sv&quot;&lt;/div&gt;&lt;div&gt;`include &quot;my_case1.sv&quot;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//是个module&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;module top_tb;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//声明信号&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;reg clk;&lt;/div&gt;&lt;div&gt;reg rst_n;&lt;/div&gt;&lt;div&gt;reg[7:0] rxd;&lt;/div&gt;&lt;div&gt;reg rx_dv;&lt;/div&gt;&lt;div&gt;wire[7:0] txd;&lt;/div&gt;&lt;div&gt;wire tx_en;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//实例化接口&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;my_if input_if(clk, rst_n);&lt;/div&gt;&lt;div&gt;my_if output_if(clk, rst_n);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//实例化DUT&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;dut my_dut(.clk(clk),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rst_n(rst_n),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rxd(input_if.data),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rx_dv(input_if.valid),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.txd(output_if.data),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.tx_en(output_if.valid));&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//产生激励信号&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;initial begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;clk = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;forever begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; #100 clk = ~clk;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;end&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//产生复位信号&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;initial begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;rst_n = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;#1000;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;rst_n = 1&#39;b1;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//运行用例，用例名字通过编译时传入，比如my_test0等&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;initial begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;run_test();&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(255 , 51 , 51)&quot;&gt;//通过uvm_donfig_db连接driver、monitor中的虚接口&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;initial begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uvm_config_db#(virtual my_if)::set(null, &quot;uvm_test_top.env.i_agt.drv&quot;, &quot;vif&quot;, input_if);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uvm_config_db#(virtual my_if)::set(null, &quot;uvm_test_top.env.i_agt.mon&quot;, &quot;vif&quot;, input_if);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uvm_config_db#(virtual my_if)::set(null, &quot;uvm_test_top.env.o_agt.mon&quot;, &quot;vif&quot;, output_if);&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;endmodule&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=17;align=left;" vertex="1" parent="1">
          <mxGeometry x="20" y="-890" width="780" height="1280" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
